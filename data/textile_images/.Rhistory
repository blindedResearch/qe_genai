save_images = function(image_matrix, file_path) {
# Set width and height to match the dimensions of the image matrix
width = ncol(image_matrix)
height = nrow(image_matrix)
# Open a JPEG device with specified dimensions
jpeg(file_path, width = width, height = height, units = "px", res = 600)
# Reduce margins to prevent "figure margins too large" error
par(mar = c(0, 0, 0, 0))  # Set all margins to 0
# Plot the image
image(1:width, 1:height, as.matrix(t(apply(image_matrix, 2, rev))),
col = gray((0:32)/32), xlab="", ylab="", axes = FALSE)
# Close the JPEG device
dev.off()
}
# Save trainImg as a single JPG
data("trainImg")
install.packages("textile")
library(textile)
# Save trainImg as a single JPG
data("trainImg")
class(trainImg)
trainImg
write.csv(trainImg, "trainImg.csv")
getwd()
library(reticulate)
